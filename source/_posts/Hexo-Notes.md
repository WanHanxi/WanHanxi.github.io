---
title: Hexo Notes
date: 2020-12-20 16:06:43
categories: 笔记
updated: 2020-12-21 00:09:10
---

# Add Notes

## Generate New md-notes

```bash
#new md file
npx hexo new '<title>'
```

Edit your markdown file. You can find **title.md** in /source/_posts

```bash
#generate
npx hexo g
npx hexo s #set up local server
```

```bash
#deploy
npx hexo clean #clean cache
npx hexo g -d
```

## Generate Draft

```bash
#optional: generate draft
npx hexo new draft '<title>'
#saved in /source/_drafts

#push
npx hexo publish [layout] <filename>
```

# Counting tools

https://www.luanzhuxian.com/post/ec069b41.html

# Generate `categoryies` page
https://blog.csdn.net/u011240016/article/details/79422462
# Backup `Hexo` source code

## Backup

1. build a new branch `hexo` in the repository.

2. Set the `hexo` branch as default in `Settings` of the repository, which saves specifying branches when pushing.

3. Open git bash under any directory you like

   ```bash
   #clone the current repository
   git clone git@github.com:<usrname>/<usrname>.github.io.git
   ```

   This will clone the `hexo` branch since it has been set as default.

4. Delete everything in the cloned directory except `.deploy_git`, copy all previous file into this directory.

   The `.gitignore` file should contains

   ```
   .DS_Store
   Thumbs.db
   db.json
   *.log
   node_modules/
   public/
   .deploy*/
   ```

   **Note: **If the themes in `/theme` is generated by cloning, you should delete the `.git` folder in `/theme/<theme name>`, or you won't be able to upload your theme files.

5. Push the changes to the repository

```bash
#under the hexo dir
git add .
git commit –m "add branch"
git push 
```

## Restore

1. Install supplementary packages

```bash
#install git
sudo apt-get install git

#set user name and mail address
git config --global user.name "<your github name>"
git config --global user.email "<your github email>"

#set ssh key
ssh-keygen -t rsa -C "<your email>"
#Then fill in the key in github settings

#verification
ssh -T git@github.com

#install node.js
sudo apt-get install nodejs
sudo apt-get install npm

#install hexo
sudo npm install hexo-cli -g
```

2. Clone the respository under any folder:

```bash
#clone the current repository
git clone git@github.com:<usrname>/<usrname>.github.io.git

cd <usrname>.github.io
npm install
npm install hexo-deployer-git --save
```

3. Generate and deploy

```bash
hexo g
hexo d
```



# Reference

[超详细Hexo+Github Page搭建技术博客教程【持续更新】_个人文章 - SegmentFault 思否](https://segmentfault.com/a/1190000017986794)

[hexo史上最全搭建教程 - zjufangzh](https://blog.csdn.net/sinat_37781304/article/details/82729029)